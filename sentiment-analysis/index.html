<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Sentiment Analysis | Home Page</title><script src=https://cdn.tailwindcss.com></script><script src=https://unpkg.com/feather-icons></script><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><style type=text/tailwindcss>
    @layer base {
        body {
          @apply bg-gray-100;
          @apply font-sans;
          @apply leading-normal;
          @apply tracking-normal;
        }
        p {
          @apply py-6;
        }
        a {
          @apply text-green-500;
          @apply no-underline;
          @apply hover:underline;
        }
        h1 {
          @apply py-2;
          @apply font-sans;
          @apply text-2xl;
        }
        h2 {
          @apply py-2;
          @apply font-sans;
          @apply text-xl;
        }
        h3 {
          @apply py-2;
          @apply font-sans;
          @apply text-lg;
        }
        ol {
          @apply px-8;
          @apply list-decimal;
        }
        ul {
          @apply px-8;
          @apply list-disc;
        }
        blockquote {
          @apply border-l-4; 
          @apply border-green-500;
          @apply italic;
          @apply my-8;
          @apply pl-8;
          @apply md:pl-12;
        }
        pre {
          @apply bg-gray-900;
          @apply rounded;
          @apply text-white; 
          @apply font-mono;
          @apply text-base;
          @apply my-4;
          @apply p-2;
          @apply md:p-4;
        }
        table {
          @apply shadow-md;
          @apply rounded-lg;
          @apply m-auto;
          @apply my-8;
        }
        thead {
          @apply bg-gray-50;
        }
        th {
          @apply py-3;
          @apply px-6;
          @apply text-xs;
          @apply font-medium;
          @apply tracking-wider;
          @apply text-left;
          @apply text-gray-700;
          @apply uppercase;
        }
        tr {
          @apply bg-white;
          @apply border-b;
        }
        td {
          @apply py-4;
          @apply px-6;
          @apply text-sm;
          @apply font-medium;
          @apply text-gray-900;
          @apply whitespace-nowrap;
        }
        img {
          @apply m-auto;
          @apply object-cover;
        }
        .footer-icon {
          width: 64px; 
          height: 64px;
          @apply mx-4;
        }
      }
    </style></head><body><nav id=header class="fixed w-full z-10 top-0"><div id=progress class="h-1 z-20 top-0" style="background:linear-gradient(to right,#4dc0b5 var(--scroll),transparent 0)"></div><div class="w-full md:max-w-4xl mx-auto flex flex-wrap items-center justify-between mt-0 py-3"><div class=pl-4><a class="text-gray-900 text-base no-underline hover:no-underline font-extrabold text-xl" href=https://freboch.github.io/CSS_project_website>Home Page</a></div><div class="block lg:hidden pr-4"><button id=nav-toggle class="flex items-center px-3 py-2 border rounded text-gray-500 border-gray-600 hover:text-gray-900 hover:border-green-500 appearance-none focus:outline-none"><svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg></button></div><div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block mt-2 lg:mt-0 bg-gray-100 md:bg-transparent z-20" id=nav-content><ul class="list-reset lg:flex justify-end flex-1 items-center list-none px-0"><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../data-description>Data</a></li><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../network-analysis>Network</a></li><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../word-clouds>Word Clouds</a></li><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../sentiment-analysis>Sentiment Analysis</a></li></ul></div></div></nav><div class="container w-full md:max-w-3xl mx-auto pt-20"><div class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal" style=font-family:Georgia,serif><div class=font-sans><h1 class="font-bold font-sans break-normal text-gray-900 pt-6 pb-2 text-3xl md:text-4xl">Sentiment Analysis</h1></div><head><style><style>h1{text-align:left;font-size:25px,font-family:Verdana,sans-serif}h2{text-align:left;font-size:20px,font-family:Verdana,sans-serif}h3{text-align:left;font-size:15px,font-family:Verdana,sans-serif}</style><style>.line{padding-bottom:20px;border-bottom:1px solid #9ca3af}.line1{padding-bottom:20px;border-bottom:3px solid #9ca3af}</style></head><div class=line1></div><h3>To investigate the mood development through the series we have performed some sentiment analysis on the chapter summaries.<p>Sentiment analysis uses a happiness score to assess the sentiment of a text. The happiness scores in this analysis are from <a href=https://hedonometer.org/words/labMT-en-v2/>https://hedonometer.org/words/labMT-en-v2/</a>. The dataset consists of 10,187 words and their corresponding happiness score. We have shifted the scores from a [0;10] scale to a [-5;5] scale so that 0 means neutral.</p><p>We have a hypothesis that each book gets less happy as you move from beginning to end, and that the same can be said for the series as a whole. Scroll down to see what we found out.</p></h3><h2>Overall Series mood</h2><div class=line1></div><h3>First lets look at the entire series. For each chapter we compute the average happiness score and this plot shows these averages for all chapters in the series. The trend line is a linear regression.<p><img src=../images/series_happiness.png width=700></p><p>This plot shows us that with few exceptions the happiness of the chapter summaries is above zero, that is slightly positive. Some of the peaks and valleys have been annotated with a brief description of what happens in that chapter. Not surprising, chapters where a character dies stand out as particularly unhappy. Conversely, festive chapters like a Christmas, birthday or the Quidditch World Cup (pre death eater attack) stand out as particularly happy.</p><p>The trendline seems to support our hypothesis that the series as a whole gets less happy as it goes on, even if the drop is not very dramatic (less than 0.4 over the whole series).</p><p>All of this gets challenged if we add the standard deviation of the mean to our plot.</p><p><img src=../images/series_happiness_std.png width=700></p><p>The mean and trendline is of course still the same, but the standard deviation shows us, that the peaks and valleys we see in the mean might not be as clear cut. The happiness score seems to be more accurately described as having a mean of about 0.5 plus/minus 1 for all chapters, with a couple of exception in the negative direction.</p><p>The large standard deviation is due to the plot summaries not being very long, and there therefore not being that many scores to compute the mean over.</p><p>All that being said, the plot does show happy and unhappy chapters that we can recognize from the books. Deaths of important and good characters are some of the valleys: Cedric, Sirius, Dumbledore, Dobby, Harry (though he survives). Festive chapters like Christmases, a birthday, festivities at the Quidditch World Cup are some of the peaks.</p></h3><h2>Books</h2><div class=line1></div><h3><p>Looking at the book-scale instead of the series scale, and focusing only on the trend lines instead of the individual chapter scores we see that the hypothesis holds again. The books do not have the same number of chapters, so for the sake of comparison they have been normalized to a [0;1] depth in book scale.</p><p><img src=../images/book_happiness_trendlines.png width=700></p><p>Each book has an ever so slight negative development from start to finish. Book 5 has the steepest decline due to the very negative chapters toward the end where Arthur Weasley is attacked by Nagini the snake, Sirius Black is killed by Bellatrix Lestrange, Voldemort returns and fights Dumbledore. Book 7 has the lowest starting happiness of all the books. The wizarding world is in a full blown war. Early chapters include the Death Eaters at Malfoy manor, Hedwig and Mad-Eye Moody dying when transporting Harry from the Dursley&rsquo;s, Voldemort takes over the Ministry of Magic and kills the minister Rufus Scrimgeour. All in all it seems reasonable that this book starts low on happiness.</p><p>These happiness scores are subject to the same standard deviations as the above.</p><p><img src=../images/book_happiness_trendlines_std.png width=700></p><p>With this overlay it is even more clear that the sentiment analysis falls a little short with the limited available data.</p></h3><h2>Word Shifts for Select Chapters</h2><div class=line1></div><h3><p>Now lets look closer at some of the chapters that stand out for their high or low happiness scores. We do this with word shifts like the ones they use on <a href=https://hedonometer.org/timeseries/en_all>https://hedonometer.org/timeseries/en_all</a> .</p><p>We compute the word shifts by comparing 4 select chapters with the 3 chapters that precede them. The below plots show which words are causing the biggest change in happiness score either by being present in the chapter in focus and not present in the previous chapters (full colors) or having been present in the previous chapters but not present in the chapter of focus (faded colors). The blue words have negative happiness scores, the yellow words have positive scores. The size of the bar corresponds to the size of the shift caused by the word.</p><p>The chapter where Voldemort is &ldquo;rebirthed&rdquo; in a full body and Peter Pettigrew kills Cedric Diggory in book 4 is one of the more negative chapters.</p><p><img src=../images/word_shift_cedric.png width=700></p><p>Many of the words associated with this chapter are obviously negative like <em>kill</em>, <em>grave</em> and <em>horror</em>. The happiness scores we use are based on English language in general, and not specifically in the context of Harry Potter. So where the word <em>lord</em> might be associated with God and therefore has a very positive score in the labMT dataset, in Harry Potter it is always associated with <em>Lord Voldemort</em> and therefore not a positive word at all. This chapter also shows us how the word shifts and happiness scores in general fall short on context. The <em>infant</em> that is mentioned in this chapter summary is in fact Lord Voldemort in the shape of <em>a deformed infant</em>, and the words <em>right</em> and <em>hand</em> refer to Pettigrew&rsquo;s hand that he cuts off for the potion. These are all words that brings the happiness score of the chapter up when looked at without context.</p><p>Another chapter that scores low on happiness is the one where Bellatrix Lestrange kills Sirius Black.</p><p><img src=../images/word_shift_sirius.png width=700></p><p>Again obvious words are causing the low score: <em>dead</em>, <em>defeated</em>, <em>lost</em> and <em>death</em> amongst others. Interestingly we can see that both the word <em>forbidden</em> and the word <em>forest</em> were used in previous chapters, but that <em>forbidden</em> is negative and <em>forest</em> is positive, even if they in the wizarding world refers to the same place: the Forbidden Forest.</p><p>Now lets look at some of the positive chapters. In book 6 they celebrate Christmas at the Burrow after Arthur Weasley has been attacked by the snake Nagini.</p><p><img src=../images/word_shift_christmas.png width=700></p><p>This chapter is another good example of the lack of context in the word shift analysis.</p><p>This is the full text of the chapter summary from the fandom wiki</p><blockquote><p>During the Christmas holidays at the Burrow, Harry tells Ron, his father Arthur Weasley and Remus Lupin what he overheard, but they believe that Snape was trying to find out Malfoy&rsquo;s plan so he could tell Dumbledore. Later, Rufus Scrimgeour visits the Burrow, and requests that Harry appear to work alongside the Ministry, to boost the morale of the public. Harry turns it down, knowing that the Ministry is arresting and imprisoning innocent people and remembering how they persecuted him last year.</p></blockquote><p>We see that the words <em>ministry</em>, <em>boost</em> and <em>innocent</em> are not positive in the context, but contributes to the positive shift.</p><p>Lastly lets look at another positive chapter: in book 7 when its Harry&rsquo;s birthday.</p><p><img src=../images/word_shift_birthday.png width=700></p><p>It is the day before Bill and Fleur&rsquo;s <em>wedding</em> and Harry&rsquo;s <em>birthday</em>. Harry also gets a <em>kiss</em> from Ginny. Dumbledore has died and Rufus Scrimgeour is there to read his will and <em>give</em> the trio the <em>gifts</em> he has left them. All this contributes to the positive shift of the chapter.</p><p>Across these chapters we see that, even though it falls short on interpreting context, the happiness scores and word-shifts still do a decent job of categorizing the chapters as more positive or negative when the good or bad thing going on is not subtle i.e. death, murder, Christmas, birthdays and weddings.</p><p>The word shifts are subject to the same challenges as the happiness score plots above; the chapter summaries that we are working with are not very long, and therefore they do not have a lot of words to go on.</p></h3><hr class="border-b-2 border-gray-400 mt-8 mx-4"><div class="font-sans flex justify-between content-center px-4 pb-12"><div class=text-left><p><a href=../word-clouds class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">&lt;
Previous Page</a></p></div><div class=text-right></div></div></div></div><footer class="bg-white border-t border-gray-400 shadow"><div class="container max-w-4xl mx-auto flex py-8"><div class="w-full mx-auto flex flex-col"><div class="flex w-full"><div class="px-8 mx-auto"><ul class="pt-3 list-none px-0 flex"><li><a class="text-gray-600 no-underline py-2" href=../Explainer_Notebook.html><i data-feather=file-text class=footer-icon></i></a></li><li><a class="text-gray-600 no-underline py-2" href=https://gitlab.gbar.dtu.dk/freboch/Social_Informatik_Projekt.git><i data-feather=github class=footer-icon></i></a></li></ul></div></div><div class="w-full mx-auto text-center"><ul class="list-reset items-center text-md py-6 list-none flex"><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Anne Sophie H. Hansen</p></li><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Frederikke B. Christensen</p></li><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Kirstine Cort Graae</p></li></ul></div></div></div></footer><script>var h=document.documentElement,b=document.body,st='scrollTop',sh='scrollHeight',progress=document.querySelector('#progress'),scrollpos=window.scrollY,header=document.getElementById("header"),navcontent=document.getElementById("nav-content"),scroll;document.addEventListener('scroll',function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100,progress.style.setProperty('--scroll',scroll+'%'),scrollpos=window.scrollY,scrollpos>10?(header.classList.add("bg-white"),header.classList.add("shadow"),navcontent.classList.remove("bg-gray-100"),navcontent.classList.add("bg-white")):(header.classList.remove("bg-white"),header.classList.remove("shadow"),navcontent.classList.remove("bg-white"),navcontent.classList.add("bg-gray-100"))}),document.getElementById('nav-toggle').onclick=function(){document.getElementById("nav-content").classList.toggle("hidden")},feather.replace()</script></body></html>